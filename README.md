# Regis-MSDS-692
Capstone 1

2017/2018 Season

Growing up in Canada one could not help but to be consumed by the sport of hockey.  It touched every aspect of out community growing up in our small town, so over the many years, I gained a deep appreciation for the game.  Therefore when the opportunity presented itself to perform predictive modeling against National Hockey League (NHL) datasets, I jumped at the chance. 

The dataset can be acquired from http://www.hockeyabstract.com/testimonials/nhl2017-18, which amazingly thorough.  There are  ~200 variables and 881 objects representing every aspect of the game. 

During the exploration of the data one of the first aspects of the game that I wanted to validate.  Is the league getting younger and faster?  Are owners really interested in gambling on young players, know for timely mistakes versus proven veteran talent.  

During the exploration of the data one of the first aspects of the game that I wanted to validate.  Is the league getting younger and faster?  Are owners really interested in gambling on young players, know for timely mistakes versus proven veteran talent.  

![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/Histogram_age.png)


The following plot depicts Salary on the y axis and Goals across the x axis.  Scatterplot illustrates that a large amount of goals are being generated by players on cheaper contracts, which generally correlates to young players on entry level or bridge contracts. 

![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/grtr_than_25_goals.png)


Also this plot demonstrates the challenge in creating an accurate Salary prediction model.  If you notice between 25 and 30 goals, there are many players that are being paid large annual salaries will not scoring more that 30 goals per season.  Conversely, large amount of goals with very little in terms of annual salary.  This is why other variables have to be considered such as Age in the model creation.  Age is an indication of where a player is in their career and contribute to annual salary predictions.



Below is a Facet Wrap of goals scored versus their county.  In this case, Canada has recorded a large number of total goals, but remember that the league has over 50% Canadians. 

Facet wrap plot Goals Vs Country
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/Facet_wrap_g_cnty.png)

The Linear Regression facet wrap visualization below separates goals per country with a third variable of salary.   

Linear Regression Facet Wrap
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/g_cntry.png)


One of my favorite illustrations is this box plot.  It demonstrates European talent coming over to play in the NHL are typically goal scorers.  One example of this is look at RUS, they have no outliers, yet their data stretches to ~50 goals.  Conversely, Canada has outliers beyond ~28 goals.

BoxPlot of goals scored vs home country
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/box_g_cnty.png)

This barplot demonstrates NHL players country representation

Horizontal plot of players and their country
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/Players_cnty.png)


This is a goal density plot, highlighting country players are from

Density of goals scored per country
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/density.png)


Plot using scale_x_log10 to expand the right skewed plot
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/TOI_g.png)

The visualization below demonstrates the correlation between the variables

Viewing the correlation between variables
![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/corr.png)


# Random Forest, Decision Tree and Neural Network Model results

A number of iterations were completed for each model and in some instances, model performance increased.  The Random Forest was improved mainly by tree pruning, as an example.

Neural Networks performed the best with this dataset, however there are other models I would run this dataset against, such as SVM or XGBoost, to explore opportunities to increase accuracy 

![alt text](https://github.com/smichael14/Regis-MSDS-692/blob/master/results.png)



